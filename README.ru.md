# c-web-toy

[üá∑üá∫ –†—É—Å—Å–∫–∞—è –≤–µ—Ä—Å–∏—è](README.ru.md) | [üá¨üáß English version](README.md)

–£—á–µ–±–Ω—ã–π **–º–∏–∫—Ä–æ-–≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –Ω–∞ —á–∏—Å—Ç–æ–º C**. –¶–µ–ª—å ‚Äî –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–±: —Å–æ–∫–µ—Ç—ã, –ø–∞—Ä—Å–∏–Ω–≥ HTTP, —Ä–æ—É—Ç–∏–Ω–≥, —Å—Ç–∞—Ç–∏–∫–∞, –ø—Ä–æ—Å—Ç–µ–π—à–∏–π —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä.

> –ö–æ–¥–æ–≤—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è ‚Äî **–Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º**. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚Äî **–Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º**.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
include/   ‚Äî –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã (public API)
src/       ‚Äî –∏—Å—Ö–æ–¥–Ω–∏–∫–∏
public/    ‚Äî —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (HTML/CSS/JS)
templates/ ‚Äî —à–∞–±–ª–æ–Ω—ã (–¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö —ç—Ç–∞–ø–æ–≤)
```

## –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
make
./server
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–µ—Ä–≤–µ—Ä —Å–ª—É—à–∞–µ—Ç `http://localhost:8080`.

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTTPS

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Å HTTPS –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å HTTP:

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
openssl req -x509 -nodes -newkey rsa:2048 -keyout key.pem -out cert.pem -days 365

# –ó–∞–ø—É—Å–∫ —Å HTTP (8080) + HTTPS (8443)
PORT=8080 HTTPS=1 HTTPS_PORT=8443 CERT_FILE=./cert.pem KEY_FILE=./key.pem ./server
```

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ç–µ–∫—É—â–µ–≥–æ —ç—Ç–∞–ø–∞

- –ü—Ä–æ—Å—Ç–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ –º–µ—Ç–æ–¥—É + –ø—É—Ç–∏ (`GET /hello`)
- –û—Ç–¥–∞—á–∞ —Å—Ç–∞—Ç–∏–∫–∏ —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º `Content-Type`: `mount /static/ -> ./public`
- –ü—Ä–æ—Å—Ç–µ–π—à–∏–π —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä `{{var}}` –¥–ª—è HTML-—Å—Ç—Ä–æ–∫ (–±–µ–∑ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑ —Ñ–∞–π–ª–æ–≤)
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ HTTP (–º–µ—Ç–æ–¥, –ø—É—Ç—å, –∑–∞–≥–æ–ª–æ–≤–∫–∏, query-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —à–∞–±–ª–æ–Ω–æ–≤ –∏–∑ —Ñ–∞–π–ª–æ–≤ (`render_template_file`)
- POST/—Ñ–æ—Ä–º—ã (`application/x-www-form-urlencoded`)
- –ö—É–∫–∏/—Å–µ—Å—Å–∏–∏
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Å–ª—É—à–∞—Ç–µ–ª–∏ HTTP + HTTPS

## –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞

- [x] –ë–∞–∑–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä, –ø–∞—Ä—Å–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–∞
- [x] –†–æ—É—Ç–∏–Ω–≥ `method + path`
- [x] –°—Ç–∞—Ç–∏–∫–∞ (`/static/ -> ./public`)
- [x] –®–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä (—Å—Ç—Ä–æ–∫–∏)
- [x] –®–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä –∏–∑ —Ñ–∞–π–ª–æ–≤ (`render_template_file`)
- [x] POST/—Ñ–æ—Ä–º—ã (`application/x-www-form-urlencoded`)
- [x] –ö—É–∫–∏/—Å–µ—Å—Å–∏–∏
- [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTTPS
- [ ] –î–µ–º–æ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
